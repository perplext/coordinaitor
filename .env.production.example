# Production Environment Configuration
# This file contains production-specific settings
# Copy to .env.production and update with real values

# Server Configuration
NODE_ENV=production
PORT=3000
HOST=0.0.0.0

# Database Configuration (Production)
DB_HOST=your-production-db-host.com
DB_PORT=5432
DB_NAME=coordinaitor_prod
DB_USER=prod_user
DB_PASSWORD=strong_production_password
DB_SSL=true
DB_POOL_MIN=2
DB_POOL_MAX=20

# Redis Configuration (Production)
REDIS_HOST=your-redis-cluster.cache.amazonaws.com
REDIS_PORT=6379
REDIS_PASSWORD=redis_production_password
REDIS_DB=0
REDIS_TLS=true

# JWT Configuration (Production - Use strong secrets)
JWT_SECRET=generate-a-very-long-random-string-for-production-use-only
JWT_EXPIRES_IN=8h
JWT_REFRESH_SECRET=another-very-long-random-string-for-refresh-tokens
JWT_REFRESH_EXPIRES_IN=7d

# Security Headers
HELMET_ENABLED=true
CORS_ORIGIN=https://your-domain.com
COOKIE_SECURE=true
COOKIE_HTTP_ONLY=true
COOKIE_SAME_SITE=strict
CSP_ENABLED=true

# HTTPS/TLS
ENABLE_HTTPS=true
SSL_CERT_PATH=/path/to/cert.pem
SSL_KEY_PATH=/path/to/key.pem

# Rate Limiting (Production)
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=50
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false
RATE_LIMIT_SKIP_FAILED_REQUESTS=false

# Logging (Production)
LOG_LEVEL=warn
LOG_FORMAT=json
LOG_DIR=/var/log/coordinaitor
LOG_MAX_SIZE=100m
LOG_MAX_FILES=14d
LOG_COMPRESS=true

# Monitoring and Metrics
ENABLE_METRICS=true
METRICS_PORT=9090
ENABLE_HEALTH_CHECK=true
HEALTH_CHECK_INTERVAL=30000

# OpenTelemetry (Production)
OTEL_ENABLED=true
OTEL_ENDPOINT=https://your-otel-collector.com:4317
OTEL_SERVICE_NAME=coordinaitor-prod
OTEL_TRACES_SAMPLER=parentbased_traceidratio
OTEL_TRACES_SAMPLER_ARG=0.1

# Error Tracking (Sentry)
SENTRY_DSN=https://your-key@sentry.io/project-id
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# CDN Configuration
CDN_URL=https://cdn.your-domain.com
STATIC_ASSETS_URL=https://static.your-domain.com

# External Service URLs (Production)
FRONTEND_URL=https://app.your-domain.com
API_URL=https://api.your-domain.com
WEBHOOK_URL=https://api.your-domain.com/webhooks

# Email Configuration (Production)
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_SECURE=true
SMTP_USER=apikey
SMTP_PASSWORD=your-sendgrid-api-key
EMAIL_FROM=noreply@your-domain.com

# Backup Configuration
ENABLE_BACKUP=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=your-backup-bucket
BACKUP_ENCRYPTION_KEY=backup-encryption-key

# Performance Tuning
MAX_CONCURRENT_TASKS=50
TASK_TIMEOUT_MS=600000
AGENT_TIMEOUT_MS=120000
QUEUE_CONCURRENCY=20
WORKER_POOL_SIZE=10

# Caching (Production)
CACHE_TTL=7200
CACHE_CHECK_PERIOD=300
CACHE_MAX_KEYS=10000
CACHE_MAX_SIZE=512mb

# Session Management
SESSION_TIMEOUT=28800000
SESSION_EXTEND_ON_ACTIVITY=true
MAX_SESSIONS_PER_USER=5

# Security Policies
FORCE_HTTPS=true
HSTS_MAX_AGE=31536000
HSTS_INCLUDE_SUBDOMAINS=true
HSTS_PRELOAD=true
PASSWORD_MIN_LENGTH=12
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SYMBOLS=true
MFA_ENABLED=true
MFA_ISSUER=CoordinAItor

# Compliance
GDPR_ENABLED=true
DATA_RETENTION_DAYS=365
AUDIT_LOG_RETENTION_DAYS=2555
PII_ENCRYPTION_ENABLED=true
PII_ENCRYPTION_KEY=your-pii-encryption-key

# Disaster Recovery
DR_ENABLED=true
DR_REGION=us-west-2
DR_SYNC_INTERVAL=300000

# Feature Flags (Production)
ENABLE_NATURAL_LANGUAGE=true
ENABLE_MARKETPLACE=true
ENABLE_MULTI_TENANCY=true
ENABLE_WEBHOOKS=true
ENABLE_SSO=true
ENABLE_BILLING=true
ENABLE_BETA_FEATURES=false

# Production Secrets Management
USE_AWS_SECRETS_MANAGER=true
AWS_SECRETS_REGION=us-east-1
SECRETS_PREFIX=prod/coordinaitor/

# Load Balancer Configuration
TRUST_PROXY=true
PROXY_ADDR_HEADER=X-Forwarded-For

# Maintenance Mode
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE=System maintenance in progress. Please try again later.
MAINTENANCE_ALLOWED_IPS=